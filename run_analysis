
 
Search or jump toâ€¦

Pull requests
Issues
Marketplace
Explore
 @emmanchuks Sign out
1
1 72 gangxu79/Getting-and-Cleaning-Data-Week-4-Assignment
 Code  Issues 0  Pull requests 0  Projects 0  Wiki  Insights
Getting-and-Cleaning-Data-Week-4-Assignment/run_analysis.R
@gangxu79 gangxu79 Update run_analysis.R
33f902c  on May 22, 2016
42 lines (32 sloc)  1.74 KB
    
library(dplyr)


##Read data
# read train data

trainDataX <- read.table("x_train.txt")
trainDataY <- read.table("y_train.txt")
SubjecttrainData <- read.table("subject_train.txt")

# read test data
testDataX <- read.table(X_test.txt")
testDataY <- read.table("Y_test.txt")
SubjecttestData <- read.table("subject_test.txt")

# read data description
featuresData <- read.table("features.txt")

# Read activity labels
activitylabelsData <- read.table("activity_labels.txt")

# 1. Merges the training and the test sets.
mergedXData <- rbind(X_train, X_test)
mergedYData <- rbind(Y_train, Y_test)
mergedSubtest_Subtrain<- rbind(Sub_train, Sub_test)

# 2. Extracts only the measurements on the mean and standard deviation for each measurement.
selected_var <- featuresData[grep("mean\\(\\)|std\\(\\)", featuresData[,2]),]
mergedXData <- mergedXData[,selected_var[,1]]

# 3. Using descriptive activity names to name the activities in the data set
colnames(mergedYData) <- "activity"
mergedYData$activitylabelsDatal <- factor(mergedYData$activity, labels = as.character(activitylabelsData [,2]))
activitylabelsData <- mergedYData[,-1]

# 4. Appropriately labelling the data set with descriptive variable names.
colnames(mergedXData) <- featuresData[selected_var[,1],2]

# 5. From the data set in step 4, creates a second, independent tidy data set with the average
# of each variable for each activity and each subject.
colnames(Sub_total) <- "subject"
total <- cbind(mergedXData, activitylabelsData, Sub_total)
total_mean <- total %>% group_by(activitylabelsData, subject) %>% summarize_each(funs(mean))
write.table(total_mean, file = "UCI_HAR_Dataset/tidydata.txt", row.names = FALSE, col.names = TRUE)
